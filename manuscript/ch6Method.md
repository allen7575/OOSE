# Methodology
 

## 物件導向軟體開發

即便學了很多的程式（語法），很多同學在開發系統（或軟體）還是不知道如何下手，先寫程式嗎？千頭萬緒到底先寫什麼？應該先做分析吧？做什麼分析呢？

有好多複雜的分析方法，專有名詞很多，能不能簡單一點？

這份文件就是希望用白話的方式來介紹系統的開發。

## 開始分析
開發的流程可以分成以下幾個階段:
- 問題描述
- 功能樹
- 品質樹
- 概念圖
- 流程圖

### 問題描述 Problem statement 
首先把你要開發的系統做一個介紹，這個我們叫做『problem statement』。儘量用白話的方式來介紹這個系統的緣由、目的、功能、可能的限制、可能需要的系統介接。

接著，我們開始進行系統分析。什麼叫系統分析？就是希望把系統的功能、操作的流程、品質的考量等進行分析。同時，這個階段很重要的工作就是了解 domain。

什麼是 domain? 每個工作領域都有其專業知識，當我們導入軟體系統時，必須符合其規範、運作流程、文化。所以作稅務系統的必須了解稅務，

有時候並不會描述在 problem statement 中，這時間

### 功能樹 Function Tree
一個系統必定會提供很多的功能，所以把功能做一個列表是很重要的。但是即使是一個很小的系統，功能都可以展出大大小小約 20 十幾個功能，更不用說是大系統了。所以

> 建立功能樹，透過**分類**的方式來呈現功能，這樣 zoom in, zoon out 功能

**分解功能，直到是可以驗證的功能**
例如一個線上考試系統的系統，有一個功能『帳號管理』，但這個功能其實是沒有辦法驗證的，必須要分解為『新增帳號』、『帳號維護』和『刪除帳號』等功能。其中帳號維護有可以分解為『變更密碼』、『變更 email』等功能。也就是說

- 概念功能1
-- 概念功能1.1
-- 概念功能1.2
--- 功能1.2.1
--- 功能1.2.1
-- 概念功能1.3
- 概念功能2
-- 功能2.1
-- 功能2.2

請注意所有的功能都應該被分解，直到是可被驗證的功能。

### 品質樹Quality tree
除了功能以外，品質也是非常重要的，又稱為『非功能性需求，』（nonfunctional requirements）。常見的品質包含：可使用性（usability）、效能（performance）、可維護性（maintainability）、安全性等。

**品質也可以分解成樹**
例如可使用性，可以依照你的系統特性展開（分解成）細項。

**品質是會衝突的**
一般而言，品質是會衝突的，例如說為了達成效能好，可能會造成程式碼的撰寫比較精簡，進而造成『可維護性』比較差。

> 所謂的設計，就是取捨這些品質項目吧！

**品質的對象可以是系統，或是某個功能**

品質的對象可以是一整個系統，或是某個功能。例如，我們要求整個系統的可使用性是的，這就是一種整體性的品質。我們針對一個『排序』的功能，加上『效能』的品質限制，就是一種局部的品質限制。

### 使用案例 Use case
使用案例可以幫助你從使用者的角度來想像以後使用的情境。

> 想像一下，如果這個軟體做好了，要給誰用，怎麼用？

透過這樣的想像，你會勾勒出這個系統的功能。所以使用案例的建立試辦隨著功能樹的。

注意

1. 使用案例是動詞開始
2. 重點在流程的描述，不在 actor 和 案例的名稱。很多人把 actor, use case 寫完就以為結束了，但這只是開始。
3. 案例流程可以用流程圖、活動圖、狀態圖來描述。但文字的描述是一個很好的開始。

### 概念圖 Concept diagram
所謂的概念就是你從

從你的 problem statement, domain space, use case 裡你可以理出很多的概念，這些概念可能是：
- 看得到的物件，例如桌子、滑鼠
- 抽象的觀念，例如帳號、密碼、目標
- 角色，例如老師、學生等

**概念**
概念可以有特性、動作（或能力）、及限制。以老師這個概念來說，
- 特性：老師的專長
- 動作或能力：教書、研究
- 限制：必須具備博士學位

以帳號這個概念來說
- 特性：帳號名稱、帳號等級都是一個特性。其中帳號等級可以是管理者、一般使用者、或VIP使用者。
- 能力：登入
- 限制：帳號

**概念間的關係**
- 老師教學生：教
- 學生擁有帳號：擁有

**怎麼建構概念圖？**

> 類別圖是一個很好表達概念的工具。在分析階段，把類別圖當成一個表達概念的工具就好，不要想太多關於物件設計的東西。

**文字解析**

一開始如果不熟悉如何建構概念圖，可以從問題描述或使用案例開始，找名詞動詞，做文字的解析。
- 名詞可能是
-- 類別
-- 特性
- 動詞可能是
-- 關連：類別之間的關聯。例如老師與學生之間有『教』的關係。教室與學生有『有』的關係。學生與考試有『參與考試』的關係。
-- 物件的責任：這個物件應該能做什麼（responsibility）？別人可能會給他什麼命令請求（request）? 責任與請求是一體兩面的東西。至於方法（method）就是實踐這些請求的演算法。

**例子：**

例如以下的文字：

    線上考試系統必須有帳號管理。每個老師、學生都可以申請唯一的帳號，當登入系統後，系統會自動判定角色出現不同的功能。老師可以有設計考卷、考試等功能; 學生則有考試、觀看成績等功能。...

解析後：

- 名詞：老師、學生、帳號、系統、功能
- 動詞：判定、申請、開始考試、參與考試、觀看成績、設計考卷

依據解析原則，我們可以訂出類別：老師、學生。帳號我們可以視為老師和學生都有的特性，所以不另外視為一個類別。至於功能，因為是一般性的名詞，所以不視為類別。

我們將考試也是為一個類別，雖然他沒有出現在描述中，但很顯然老師與學生在此系統中是因為考試而存在的。一個考試可以有很多的特性：考試時間、科目、分數等。這些雖然不在問題描述中，但必須加進去。這就是所謂的『domain requirement』。

定義關連：

注意到文中出現兩次『考試』，但其含意不一樣，我們在解析後把這兩個動詞區分開來：開始考試和參與考試。

## 開始設計

設計可以分為幾個階段
- 架構圖
- 結構圖
-- 設計樣式

### 類別圖 Class diagram
當你把功能樹建立好後，把這些功能『塞到』類別裡面吧！

控制物件 control object

注意通常是一群物件合作完成一個功能或使用案例的。但這些物件間彼此可能不認識，要如何合作呢？所以其上方有一個「控制物件」來統籌發號司令。

Entity object

Business object



### 設計樣式 Design pattern
設計樣式的目的多半是讓系統的可維護性變好。所以，修改你的類別圖，讓他包含一些設計樣式。

當然，你也可能一開始就引用設計樣式。恭喜你，這表示你對於設計樣式很熟練了。

### 設計地圖 Design map
Design map 的目的在讓你確定你的**設計**與功能樹、品質樹的關係。一個很基本卻很容易被忽略的重點：

> 設計是為了滿足功能與品質要求的

很多人開發系統時，做著做著方向就飄掉了，已經忘了原始的功能與品質要求。

- 設計的策略可以滿足功能
- 可以滿足或保持品質
- 設計策略可以分解為設計樣式或類別
- 設計樣式可以分解為類別
- 設計策略是在某個假設下存在的。






